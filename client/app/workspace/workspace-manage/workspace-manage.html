<div class="br-pageheader">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
      <a class="breadcrumb-item" href="site.user.home">Home</a>
      <a class="breadcrumb-item" ui-sref="site.workspace.home">Workspaces</a>
      <a class="breadcrumb-item"> Manage Workspaces</a>
    </nav>
  </div><!-- br-pageheader -->
</div>
<div class="workspace-manage-wrapper">
    <div
      class="action-message"
      ng-class="{
        'text-success': (vm.actionMessageColor === 'success'),
        'text-danger': (vm.actionMessageColor === 'danger')
      }"
      ng-if="vm.actionMessage"
    >
      {{ vm.actionMessage }}
    </div>

    <section class="workspace-manage">
      <h3 class="mb-2">Manage Workspaces</h3>
      <div class="workspace-users-table mb-5">
        <div class="table-row header">
          <div class="cell">
            Name
          </div>
          <div class="cell">
            Description
          </div>
          <div class="cell">
            Owners
          </div>
          <div class="cell">
            Num of Users
          </div>
          <div class="cell">
            Action
          </div>
        </div>

        <div class="table-row" ng-repeat="workspace in vm.workspaces | orderBy:'name'">
          <div class="cell name" data-title="name">
            <button ng-style="{'background-color': workspace.color }" type="button" class="btn btn-sm"></button>
            <a href="#">{{ workspace.name }} </a>
          </div>
          <div class="cell description" data-title="Description" ng-attr-title="{{ workspace.description }}">
            {{ workspace.description }}
          </div>
          <div class="cell owners" data-title="Owners">
            <div ng-repeat="owner in workspace.owners | orderBy:'email'">
              {{ owner.email }}
            </div>
          </div>
          <div class="cell numUsers" data-title="NumOfUsers">
              {{ workspace.Users.length }}
          </div>
          <div
            class="cell action"
            data-title="Action"
            ng-if="!workspace.is_owner">
            <span class="text-danger">Contact an owner to modify</span>
          </div>
          <div
            class="cell action allowed"
            data-title="Action"
            ng-if="workspace.is_owner"
          >
            <div class="dropdown d-inline-block">
              <div class="dropdown-button" data-toggle="dropdown">
                <i class="fa fa-angle-down"></i>
              </div>
              <div class="dropdown-menu">
                <nav class="nav nav-style-2 flex-column">
                  <div class="nav-link" ng-click="vm.editWorkspace(workspace)">
                    <i class="fa fa-2x fa-check-circle"></i>
                    <span class="text-success">Edit</span>
                  </div>
                  <div class="nav-link" ng-click="vm.revokeAccess(user)">
                    <i class="fa fa-2x fa-times-circle"></i>
                    <span class="text-danger">Delete</span>
                  </div>
                </nav>
              </div><!-- dropdown-menu -->
            </div><!-- dropdown -->
          </div>
        </div>
      </div>
    </section>
  </div>
